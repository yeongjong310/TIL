# ch2. 자바스크립트란?

## 1. 자바스크립트 탄생

1995년, 웹 브라우저 시장을 장악하고있던 `넷스케이프` 커뮤니케이션은 웹페이지의 보조적인 기능을 수행하기 위해 `경량` 프로그래밍 언어를 도입했다. 그렇게 탄생한 것이 바로 `브레던 아이크`가 개발한 `JS`다.

## 2. 자바스크립트 표준화.

1996년 8월, 마이크로소프트가 Jscript를 발표했다. 이떄 Javascript와 Jscript는 서로 다른 기능을 구현하며 경쟁하게 된다. 이후에 크로스 브라우징 이슈가 발생하기 시작하고 웹페이지를 브라우저에 맞춰 구현하기가 매우 어려워졌다. 1996년 11월 넷스케이프는 Javascript의 표준을 만들기 위해 비영리 표준화 기구인 ECMA 인터내셔널에 자바스크립트의 표준화를 요청했고, 그것이 ECMAScript로 명명되었다.

- 자바스크립트 버전
  - es6부터 모던버전이라고 하는데, es5 버전과 비교해서 많은 기능이 추가되었다.
  - es6+는 es6이상의 문법으로 개발했다는 의미이다.
  - esNext는 아직 정식 버전에 탑제되지 않은 js 기능중 권고안(프로포저- 거의 다음 버전에 확실히 적용될 문법)까지 적용된 버전이다.
    - 대부분 실제 개발은 esNext로 하고 babel로 커버를 하는 방식으로 실제로 진핸된다. 따라서 esNext 문법까지 학습해야 한다.

## 3. 자바스크립트 성장의 역사

자바스크립트는 초기에 단순히 이메일, 패스워드등 양식을 규정하기 위해 사용했다. 부분만 렌더링 해야할 경우에도 서버로부터 HTML을 받아 완전히 새로 해석해서 페이지 전체를 렌더링 해야했다.

### 3.1. Ajax

JS 이용해 서버와 브라우저가 비동기 방식으로 데이터를 교환할 수 있는 기능인 Ajax가 XMlHttpRequest라는 이름으로 등장했다. 기존까지는 전체 페이지를 렌더링해야 했다면 Ajax는 현재 페이지와 별도(비동기)로 데이터를 요청하고 응답받을 수 있었다. 이렇게 필요한 데이터를 받아 DOM을 조작하는 방식으로 화면의 깜빡임 없이 완전히 부드러운 전환을 구현할 수 있게 된 것이다.

### 3.2. Jquery

DOM을 조작하기 어려운 문제점과, 크로스 브라우징 이슈를 해결한 라이브러리이나, SPA를 위해 프레임워크가 다수 등장하면서 메모리 성능의 최적화가 필요했다. 기존에 사용하던 jquery를 빼는 방법이 유일했고 현재는 점점 사용하지 않고 있다.

### 3.3. V8 엔진

자바스크립트의 역할이 커지면서, 더 복잡한 기능을 구현하게 되었다. 구글은 JS로 맵을 구현한 이후 더 빠른 엔진의 필요성을 느껴, V8엔진을 개발하게 된다. 이렇게 향상된 성능을 갖춘 엔진이 출시되며, 처리할 수 있는 한계치가 높아지자 백엔드에서 처리하던 로직들이 하나둘 클라이언트쪽으로 이동했고 이는 프런트엔드 영역이 주목받는 계기로 작용했다.

### 3.4. Node.js

기존에 브라우저의 자바스크립트 엔진에서만 동작하던 자바스크립트를 `브라우저 이외`의 환경에서도 동작할 수 있도록 자바스크립트 엔진을 `브라우저와 독립`시킨 `자바스크립트 실행 환경`이다. Node.js는 다양한 플랫폼에 적용할 수 있지만, 서버 사이드 애플리케이션 개발에 주로 사용된다.

#### 장점

Node.js의 장점은 비동기 I/O를 지원하며 단일 스레드 이벤트 루프 기반으로 동작하기 때문에, 요청(request) 처리 성능이 좋다. 따라서 데이터를 실시간으로 처리하기 위해 I/O가 빈번하게 발생하는 SPA에 적합하다. 하지만 CPU 사용률이 높은 애플리케이션에는 권장하지 않는다.

### 3.5 SPA

모던 웹 애플리케이션은 뛰어난 성능을 기반으로 데스크톱 애플리케이션 처럼 사용자 경험을 제공하는 것이 필수가 되었다. 이와 같이 개발 규모와 복잡도가 상승하며 이전의 개발 방식으로는 개발이 어려워졌다. 이에 많은 패턴의 라이브러리가 출현했지만 변경에 유연하고 확정성을 갖추지는 못했다. 따라서 프레임 워크가 등장하는데, 이와 동시에 CBD(component based development) 방법론을 기반으로 하는 SPA가 대중화 되면서 이를 도와주는 React, Veu 등이 널리 사용되고 있다.

## 4. 자바스크립트와 ECMAScript

ECMAScript는 브라우저/Node와 상관없이 실행될 수 있는 Core한 JS문법만을 포함한다. 즉, 이를 표준화 하여 JS엔진을 만들도록 정의한 것이 ECMAScript 명세서이다.
DOM, AJAX는 브라우저에서만 동작하기 때문에 ECMAscript에는 명세되어 있지 않다.
이 모든 기능을 포한하는 개념이 Javascript다.

## Node(server), 브라우저(client)의 차이.

공통적으로 ECMASCRIPT를 따르지만 목적인 서버와 클라이언트에 따라 필요한 APIS를 별도로 가지고 있다.(ex Dom, eventlisener...)

ex)

- client-side APIS는 사용자 컴퓨터 환경에서 동작한다. 파일을 읽을 수는 있지만 삭제하거 변경할 수는 없다.

- Node.js Host APIs의 경우는 서버에서 동작하기 때문에, 파일을 읽을 수 있고 삭제 변경까지 가능한다.

## 5. 자바스크립트의 특징

### 일반적인 컴파일언어 vs 인터프리터 언어

| 컴파일언어                                                                                           | 인터프리터 언어                                                                          |
| ---------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| 코드가 실행되기 전 단계에 컴파일 타임에 CPU가 바로실행 가능한 머신코드(기계어)로 변환한 후 실행한다. | 코드가 실행되는(런타임)에 프로그래밍 언어를 중간코드인 바이트 코드로 변환한 후 실행한다. |
| 실행 파일O                                                                                           | 실행 파일X                                                                               |
| 컴파일 단계와 실행 단계 분리                                                                         | 인터프리터단계와 실행단계가 분리되지 않음                                                |
| 컴파일은 단 한번후 배포                                                                              | 매 실행마다 인터프리트 과정 반복                                                         |
| 실행파일을 CPU가 바로 읽을 수 있어 코드 실행 속도가 빠름                                             | 실행단계에 가상 머신이 해석할 수 있는 코드로 변환해야기 때문에 느림                      |

JS는 `컴파일과 인터프리터가 모두 적용된 언어`이다.

- 번역: 컴파일(V8 엔진은 기존 인터프리터 언어의 단점을 보완하며 컴파일 방식을 적절하게 도입했다.)
- 통역: 인터프리터(JS를 인터프리터 언어라고 하는 이유는 실행파일을 만들지는 않기 때문.)

하지만 완전히 실행파일을 만들지는 않고, `런타임에 컴파일` 된다. 실행 파일은 생성되지 않고 인터프리터의 도움없이 실행할 수 없기 때문에 컴파일 언어가라고 하지않고 인터프리터 언어라고 한다.
