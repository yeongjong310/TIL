# ch23. 실행컨텍스트

- 실행컨텍스트: 코드들이 평가되고 관리되는 곳이라 할 수 있다.
- 소스코드의 평가: 런타임 이전 단계
- 코드를 실행하려면 실행컨텍스트가 존재해야한다.(식별자가 존재하는지 찾아야하기 때문) 따라서 미리 실행컨텍스트를 생성한다.(렉시컬환경)
- 함수 선언문이 전역 코드 평가단계에 선언되고 정의되어도 함수 내부코드는 보지도 않는다. 단지 텍스트로만 가지고 있다.
- 식별자를 현재 실행중인 실행컨텍스트에서 찾기 시작한다.
- 식별자 검색에 의해 섀도잉 된다.
- 전역 실행 컨텍스트까지 팝돼서 스택이 모두 비어야, 비동기 함수가 push 된다.
- 식별자를 검색할때 스택의 위에서 아래로 내려가는 방향으로 찾는다.
- 왜 Object Environment Record 자체를 전역객체로 하지않고, BindingObject라는 것으로 전역객체를 바인딩했는가? 환경이 달라지면 window, global 등 전역객체가 달라진다. 즉 BindingObject만 갈아끼우면 구조는 동일하기 때문에 위 구조로 설계했다.
- 자바스크립트 코드는 script 태그가 실행되는 순간에 src를 통해 서버에 자바스크립트 코드를 요청하고 응답받은 순간 실행된다.
- 전역 실행컨텍스트가 빠진다해도 window 객체는 살아있다. 브라우저가 보고있다.
- 이벤트 헨들러는 실행컨텍스트 스택에 비어있을 때 비로소 push된다. 이때 이벤트 헨들러는 window에 있는 표준 빌트인 함수를 호출해야 하기 때문에 사라지면 안된다.
- 블록코드는 실제로는 전역코드에 속핸다. 이때 블록코드가 등록한 식별자는 전역객체에 등록되면 안되기 때문에, 전역 실행컨텍스트가 블록 렉시컬 환경을 가리키게된다.
- 블록문 내에 let,const가 있어야 블록 렉시컬 환경이 만들어진다.